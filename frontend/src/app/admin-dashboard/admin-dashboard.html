<div class="dashboard-container">
  <nav class="navbar">
    <div class="navbar-brand">
      <h2>Campus Reads - Admin Portal</h2>
    </div>
    <div class="navbar-menu">
      <span class="user-info">Welcome, {{ user?.name }} (Admin)</span>
      <button class="logout-btn" (click)="logout()">Logout</button>
    </div>
  </nav>

  <div class="dashboard-content">
    <div class="sidebar">
      <ul class="menu">
        <li class="menu-item" [class.active]="activeTab === 'overview'" (click)="setActiveTab('overview')">
          <img class="icon" src="assets/icons/dashboard.png" alt="Overview" />
          <span>Overview</span>
        </li>
        <li class="menu-item" [class.active]="activeTab === 'books'" (click)="setActiveTab('books')">
          <img class="icon" src="assets/icons/books.png" alt="Books" />
          <span>Manage Books</span>
        </li>
        <li class="menu-item" [class.active]="activeTab === 'users'" (click)="setActiveTab('users')">
          <img class="icon" src="assets/icons/users.png" alt="Users" />
          <span>Manage Users</span>
        </li>
        <li class="menu-item" [class.active]="activeTab === 'librarians'" (click)="setActiveTab('librarians')">
         <img class="icon" src="assets/icons/users.png" alt="Librarians" />
          <span>Manage Librarians</span>
        </li>
      </ul>
    </div>

    <div class="main-content">
      @if (activeTab === 'overview') {
        <app-admin-overview-tab 
          [stats]="stats">
        </app-admin-overview-tab>
      }

      @if (activeTab === 'books') {
        <app-admin-manage-books-tab 
          (bookCountUpdated)="onBookCountUpdated($event)">
        </app-admin-manage-books-tab>
      }

      @if (activeTab === 'users') {
        <app-admin-manage-users-tab 
          (userCountUpdated)="onUserCountUpdated($event)">
        </app-admin-manage-users-tab>
      }

      @if (activeTab === 'librarians') {
        <app-admin-manage-librarians-tab 
          (librarianCountUpdated)="onLibrarianCountUpdated($event)">
        </app-admin-manage-librarians-tab>
      }
    </div>
  </div>
</div>
