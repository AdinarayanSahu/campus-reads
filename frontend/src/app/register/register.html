<form [formGroup]="registerForm" (ngSubmit)="onRegister()">
  <h2>Create an Account</h2>
  
  <label>Full Name</label>
  <input type="text" formControlName="name" [class.invalid]="f['name'].invalid && f['name'].touched">
  @if (f['name'].invalid && f['name'].touched) {
    <div class="error-text">
      @if (f['name'].errors?.['required']) {
        <span>Name is required.</span>
      }
      @if (f['name'].errors?.['minlength']) {
        <span>Name must be at least 2 characters long.</span>
      }
      @if (f['name'].errors?.['pattern']) {
        <span>Name can only contain letters and spaces.</span>
      }
    </div>
  }

  
  <label>Email</label>
  <input type="email" formControlName="email" [class.invalid]="f['email'].invalid && f['email'].touched">
  @if (f['email'].invalid && f['email'].touched) {
    <div class="error-text">
      @if (f['email'].errors?.['required']) {
        <span>Email is required.</span>
      }
      @if (f['email'].errors?.['email']) {
        <span>Please enter a valid email address.</span>
      }
    </div>
  }


  <label>Gender</label>
  <select formControlName="gender" [class.invalid]="f['gender'].invalid && f['gender'].touched">
    <option value="">Select Gender</option>
    <option value="Male">Male</option>
    <option value="Female">Female</option>
    <option value="Other">Other</option>
  </select>
  @if (f['gender'].invalid && f['gender'].touched) {
    <div class="error-text">
      @if (f['gender'].errors?.['required']) {
        <span>Gender is required.</span>
      }
    </div>
  }


  <label>Password</label>
  <input type="password" formControlName="password" [class.invalid]="f['password'].invalid && f['password'].touched">
  @if (f['password'].invalid && f['password'].touched) {
    <div class="error-text">
      @if (f['password'].errors?.['required']) {
        <span>Password is required.</span>
      }
      @if (f['password'].errors?.['minlength']) {
        <span>Password must be at least 6 characters long.</span>
      }
      @if (f['password'].errors?.['passwordStrength']) {
        <span>Password must contain at least one letter and one number.</span>
      }
    </div>
  }

  <label>Confirm Password</label>
  <input type="password" formControlName="confirmPassword" [class.invalid]="(f['confirmPassword'].invalid && f['confirmPassword'].touched) || (registerForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched)">
  @if (f['confirmPassword'].invalid && f['confirmPassword'].touched) {
    <div class="error-text">
      @if (f['confirmPassword'].errors?.['required']) {
        <span>Confirm Password is required.</span>
      }
    </div>
  }
  @if (registerForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched) {
    <div class="error-text">
      <span>Passwords do not match.</span>
    </div>
  }

  @if (message) {
    <div [ngClass]="{'success-msg': messageType === 'success', 'error-msg': messageType === 'error'}" style="margin: 10px 0;">
      {{message}}
    </div>
  }
  <button type="submit">Register</button>
  <p>
    Already have an account?
    <a routerLink="/login">Login</a>
  </p>
</form>
