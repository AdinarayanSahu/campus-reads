<div class="manage-users-container">
  <div class="users-header">
    <div class="welcome-section">
      <h1>Manage Users</h1>
    </div>
    <button class="add-user-btn" (click)="openAddUserForm()">+ Add New User</button>
  </div>

  <div class="search-bar">
    <input 
      type="text" 
      [(ngModel)]="searchUserQuery" 
      (input)="searchUsers()" 
      placeholder="Search by name, email, or gender..."
      class="search-input"
    />
  </div>

  <div class="users-table-container">
    <table class="users-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Gender</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let userItem of filteredUsers">
          <td>{{ userItem.id }}</td>
          <td>{{ userItem.name }}</td>
          <td>{{ userItem.email }}</td>
          <td>{{ userItem.gender }}</td>
        </tr>
        <tr *ngIf="filteredUsers.length === 0">
          <td colspan="4" class="no-data">No users found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Add User Modal -->
<div class="modal" [class.show]="showAddUserForm">
  <div class="modal-overlay" (click)="closeAddUserForm()"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h2>Add New User</h2>
      <button class="close-btn" (click)="closeAddUserForm()">&times;</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="addUser()">
        <div class="form-group">
          <label for="add-user-name">Name *</label>
          <input 
            type="text" 
            id="add-user-name" 
            [(ngModel)]="currentUser.name" 
            name="name"
            required
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="add-user-email">Email *</label>
          <input 
            type="email" 
            id="add-user-email" 
            [(ngModel)]="currentUser.email" 
            name="email"
            required
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="add-user-gender">Gender *</label>
          <select 
            id="add-user-gender" 
            [(ngModel)]="currentUser.gender" 
            name="gender"
            required
            class="form-control"
          >
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label for="add-user-password">Password *</label>
          <input 
            type="password" 
            id="add-user-password" 
            [(ngModel)]="currentUser.password" 
            name="password"
            required
            placeholder="Enter password"
            class="form-control"
          />
        </div>

        <div class="form-actions">
          <button type="button" class="btn-cancel" (click)="closeAddUserForm()">Cancel</button>
          <button type="submit" class="btn-submit">Add User</button>
        </div>
      </form>
    </div>
  </div>
</div>
